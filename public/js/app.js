!function i(a,u,s){function c(t,e){if(!u[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=u[t]={exports:{}};a[t][0].call(r.exports,function(e){return c(a[t][1][e]||e)},r,r.exports,i,a,u,s)}return u[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("./Manager"))&&o.__esModule?o:{default:o};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=u(this,s(n).call(this,e))).settings.isBusy=!1,t.settings.imgLoadFunc="lazyLoad",t.settings.noImgClass="no-image",t.settings.delay=500,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,r.default),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(n,[{key:"toggleBusy",value:function(){this.settings.isBusy=!this.settings.isBusy}},{key:"defer",value:function(e,t,n){var o=this;setTimeout(function(){e.classList.toggle(o.settings.loadingClass),o.notify(t,n),o.toggleBusy()},this.settings.delay)}},{key:"setObservers",value:function(e){e.forEach(function(n){n.notifies.forEach(function(t){t.observers.forEach(function(e){n.instance.addObserver(t.name,e.instance,e.callback)})})})}},{key:"setEventHandlers",value:function(o){var r=this;window[this.settings.imgLoadFunc]=function(e){return r.imgLoadHandler(e)},window.onerror=function(e){return r.notify("showError",new Error(e))},document.getElementById(this.settings.appId).addEventListener("click",function(e){var t=e||window.event,n=t.target||t.srcElement;if("button"!==n.tagName.toLowerCase()||1==n.disabled)return!1;n.hasAttribute("data-download")&&r.itemsDownloadHandler(n,o),n.hasAttribute("data-delete")&&r.itemDelHandler(n)})}},{key:"imgLoadHandler",value:function(e){var t=this,n=e.getAttribute("data-image"),o=new Image;o.onload=function(){e.src=n,e.onload=null,e.removeAttribute("onload"),e.classList.toggle(t.settings.noImgClass),e.removeAttribute("data-image")},o.src=n}},{key:"itemDelHandler",value:function(e){if(this.settings.isBusy)return!1;this.toggleBusy(),e.classList.toggle(this.settings.loadingClass);var t={id:e.getAttribute("data-delete"),elem:e};this.defer(e,"removeElem",t)}},{key:"itemsDownloadHandler",value:function(e,t){if(this.settings.isBusy)return!1;this.toggleBusy(),e.classList.toggle(this.settings.loadingClass);var n=[].slice.call(document.getElementById(this.settings.itemsId).children).length;r.default.total>n&&(n+this.settings.perRow>=r.default.total&&e.setAttribute("disabled","disabled"),this.defer(e,"showMore",t.restore()))}}]),n}();n.default=l},{"./Manager":4}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("./Manager"))&&o.__esModule?o:{default:o};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=a(this,u(n).call(this,e))).settings.url="http://81.177.101.143:30080/test.json",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,r.default),n}();n.default=c},{"./Manager":4}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("./LoadManager"))&&o.__esModule?o:{default:o},i=e("./config");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=s(this,c(n).call(this,e))).settings.url="http://jsonplaceholder.typicode.com/photos",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(n,r.default),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(n,[{key:"load",value:function(){var e=this;return new i.Promise(function(t,n){var o="jsonp_callback_"+Math.round(1e5*Math.random());window[o]=function(e){delete window[o],document.body.removeChild(r),t(e)};var r=document.createElement("script");r.src=e.settings.url+(~e.settings.url.indexOf("?")?"&":"?")+"callback="+o,document.body.appendChild(r),r.onerror=function(e){return n(e)}})}}]),n}();n.default=f},{"./LoadManager":2,"./config":10}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("./SubjectObserver"))&&o.__esModule?o:{default:o};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=a(this,u(n).call(this,e))).settings={appId:"container",itemsId:"items",loadingClass:"loading",perRow:4},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,r.default),n}();(n.default=c).total=0},{"./SubjectObserver":7}],5:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.list={}}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"add",value:function(e,t,n){Array.isArray(this.list[e])||(this.list[e]=[]),this.list[e].push({instance:t,callback:n})}}]),e}();n.default=r},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i(e("./Manager")),o=i(e("@curveballerpacks/storage-manager"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=s(this,c(n).call(this,e))).shownIds=[],t.settings.storageName="rostelecom",t.settings.sortProp="id",t.storage=new o.default,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(n,r.default),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(n,[{key:"removeItemId",value:function(e){~this.shownIds.indexOf(e.id)&&this.shownIds.splice(this.shownIds.indexOf(e.id),1)}},{key:"isEmpty",value:function(){return!this.storage.isAvailable()||!this.storage.restore(this.settings.storageName)}},{key:"save",value:function(e){if(!e)return!1;this.storage.save(this.settings.storageName,e)}},{key:"sort",value:function(e){var n=this;return e.slice(0).sort(function(e,t){return e[n.settings.sortProp]>t[n.settings.sortProp]?1:e[n.settings.sortProp]<t[n.settings.sortProp]?-1:0})}},{key:"paginate",value:function(e){var t=this,n=[],o=0;return e.every(function(e){return o!==t.settings.perRow&&t.shownIds.length!==r.default.total&&(~t.shownIds.indexOf(e.id)||(n.push(e),t.shownIds.push(e.id),o++),!0)}),n}},{key:"restore",value:function(){var e=this.storage.restore(this.settings.storageName);return r.default.total=e.length,this.paginate(this.sort(e))}}]),n}();n.default=f},{"./Manager":4,"@curveballerpacks/storage-manager":11}],7:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers=e}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(t,[{key:"addObserver",value:function(e,t,n){this.observers.add(e,t,n)}},{key:"notify",value:function(e,t){this.observers.list[e].forEach(function(e){return e.instance.update(e.callback,t)})}},{key:"update",value:function(e,t){e.call(this,t)}}]),t}();n.default=r},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("./Manager"))&&o.__esModule?o:{default:o},i=e("./config");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=s(this,c(n).call(this,e))).settings.loadMode="afterBegin",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(n,r.default),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(n,[{key:"ready",value:function(){return new i.Promise(function(e,t){"interactive"!==document.readyState&&"complete"!==document.readyState||e(document.readyState),document.onreadystatechange=function(){~["interactive","complete"].indexOf(document.readyState)&&(e(document.readyState),document.onreadystatechange=null)}})}},{key:"renderView",value:function(e){var t=document.getElementById(this.settings.appId),n='<div id="'.concat(this.settings.itemsId,'">').concat(this.templateItems(e),'</div>\n                <button data-download><img src="spinner.gif">download</button>');t.innerHTML=n}},{key:"renderErrorView",value:function(e){var t=document.getElementById(this.settings.appId),n='<div class="error">Ups...something went wrong!\n                Try to visit this page later.<pre><code><strong>'.concat(e.name,"</strong>\n").concat(e.message,"\n").concat(e.stack,"</code></pre></div>");t.innerHTML=n}},{key:"renderItems",value:function(e){document.getElementById(this.settings.itemsId).insertAdjacentHTML(this.settings.loadMode,this.templateItems(e))}},{key:"deleteItem",value:function(e){var t=e.elem;t.classList.toggle(this.settings.loadingClass);var n=t.parentNode.parentNode.parentNode;n.parentNode.removeChild(n),document.getElementById(this.settings.appId).lastElementChild.removeAttribute("disabled")}},{key:"templateItems",value:function(e){var t=this,n="";return e.forEach(function(e){n+=t.templateItem(e)}),n}},{key:"templateItem",value:function(e){return'<div class="item">\n              <img data-image="'.concat(e.url,'" onload="lazyLoad(this)" src="spinner.gif" class="no-image"/>\n              <div class="flex">\n                <div class="content front"><span>').concat(e.title,'</span></div>\n                <div class="content back">\n                  <span>').concat(e.title.split(" ")[0],"</span>\n                  <span>").concat(e.title,'</span>\n                  <button data-delete="').concat(e.id,'"><img src="spinner.gif">delete</button>\n                </div>\n              </div>\n            </div>')}}]),n}();n.default=f},{"./Manager":4,"./config":10}],9:[function(e,t,n){"use strict";var o=e("./config");try{var r=o.storageManager.isEmpty()?o.loadManager.load():o.Promise.resolve(!1),i=o.viewManager.ready();o.Promise.all([r,i]).then(function(e){try{o.loadManager.notify("dataLoaded",e[0]),o.eventManager.setEventHandlers(o.storageManager),o.eventManager.notify("handlersReady",o.storageManager.restore())}catch(e){o.eventManager.notify("showError",e)}},function(e){o.eventManager.notify("showError",e)})}catch(e){o.eventManager.notify("showError",e)}},{"./config":10}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Promise=n.eventManager=n.storageManager=n.viewManager=n.loadManager=void 0;var o=s(e("./ObserverList")),r=s(e("./ViewManager")),i=s(e("./EventManager")),a=s(e("./LoadManagerJsonp")),u=s(e("./StorageManager"));function s(e){return e&&e.__esModule?e:{default:e}}var c=e("../../node_modules/es6-promise-polyfill/promise.min.js").Promise;n.Promise=c;var l=new a.default(new o.default);n.loadManager=l;var f=new r.default(new o.default);n.viewManager=f;var d=new u.default(new o.default);n.storageManager=d;var p=new i.default(new o.default);n.eventManager=p;var y=[{instance:l,notifies:[{name:"dataLoaded",observers:[{instance:d,callback:d.save}]}]},{instance:p,notifies:[{name:"handlersReady",observers:[{instance:f,callback:f.renderView}]},{name:"showMore",observers:[{instance:f,callback:f.renderItems}]},{name:"showError",observers:[{instance:f,callback:f.renderErrorView}]},{name:"removeElem",observers:[{instance:d,callback:d.removeItemId},{instance:f,callback:f.deleteItem}]}]}];p.setObservers(y)},{"../../node_modules/es6-promise-polyfill/promise.min.js":12,"./EventManager":1,"./LoadManagerJsonp":3,"./ObserverList":5,"./StorageManager":6,"./ViewManager":8}],11:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t={type:"sessionStorage"};this.settings=Object.assign(t,e),this.dataObject={},this.storage=window[t.type]}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(n,[{key:"isAvailable",value:function(){try{var e="__storage_test__";return this.storage.setItem(e,e),this.storage.removeItem(e),!0}catch(e){return!1}}},{key:"save",value:function(t,e){var n=JSON.stringify(e);if(!this.isAvailable())return this.dataObject[t]=n,!1;try{return this.storage.setItem(t,n),t}catch(e){return this.dataObject[t]=n,!1}}},{key:"restore",value:function(e){var t=this.dataObject[e]?this.dataObject[e]:this.storage.getItem(e);return JSON.parse(t)}},{key:"remove",value:function(e){this.storage.removeItem(e)}},{key:"clear",value:function(){this.storage.clear()}}]),n}();n.default=r},{}],12:[function(e,t,E){(function(e,j){"use strict";function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){function n(){for(var e=0;e<O.length;e++)O[e][0](O[e][1]);m=!(O=[])}function o(e,t){O.push([e,t]),m||(m=!0,_(n,0))}function r(t){var e=(n=t.owner).state_,n=n.data_,o=t[e];if(t=t.then,"function"==typeof o){e=g;try{n=o(n)}catch(e){s(t,e)}}i(t,n)||(e===g&&a(t,n),e===w&&s(t,n))}function i(t,n){var o;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===M(n))){var e=n.then;if("function"==typeof e)return e.call(n,function(e){o||(o=!0,n!==e?a(t,e):u(t,e))},function(e){o||(o=!0,s(t,e))}),!0}}catch(e){return o||s(t,e),!0}return!1}function a(e,t){e!==t&&i(e,t)||u(e,t)}function u(e,t){e.state_===v&&(e.state_=b,e.data_=t,o(c,e))}function s(e,t){e.state_===v&&(e.state_=b,e.data_=t,o(l,e))}function t(e){var t=e.then_;for(e.then_=void 0,e=0;e<t.length;e++)r(t[e])}function c(e){e.state_=g,t(e)}function l(e){e.state_=w,t(e)}function f(e){if("function"!=typeof e)throw new TypeError("Promise constructor takes a function argument");if(!1==this instanceof f)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(e,t){function n(e){s(t,e)}try{e(function(e){a(t,e)},n)}catch(e){n(e)}}(e,this)}var d,p=e.Promise,y=p&&"resolve"in p&&"reject"in p&&"all"in p&&"race"in p&&(new p(function(e){d=e}),"function"==typeof d);void 0!==E&&E?(E.Promise=y?p:f,E.Polyfill=f):"function"==typeof define&&define.amd?define(function(){return y?p:f}):y||(e.Promise=f);function h(){}var m,v="pending",b="sealed",g="fulfilled",w="rejected",_=void 0!==j?j:setTimeout,O=[];f.prototype={constructor:f,state_:v,then_:null,data_:void 0,then:function(e,t){var n={owner:this,then:new this.constructor(h),fulfilled:e,rejected:t};return this.state_===g||this.state_===w?o(r,n):this.then_.push(n),n.then},catch:function(e){return this.then(null,e)}},f.all=function(u){if("[object Array]"!==Object.prototype.toString.call(u))throw new TypeError("You must pass an array to Promise.all().");return new this(function(n,e){function t(t){return i++,function(e){r[t]=e,--i||n(r)}}for(var o,r=[],i=0,a=0;a<u.length;a++)(o=u[a])&&"function"==typeof o.then?o.then(t(a),e):r[a]=o;i||n(r)})},f.race=function(r){if("[object Array]"!==Object.prototype.toString.call(r))throw new TypeError("You must pass an array to Promise.race().");return new this(function(e,t){for(var n,o=0;o<r.length;o++)(n=r[o])&&"function"==typeof n.then?n.then(e,t):e(n)})},f.resolve=function(t){return t&&"object"===M(t)&&t.constructor===this?t:new this(function(e){e(t)})},f.reject=function(n){return new this(function(e,t){t(n)})}}("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:void 0)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{timers:14}],13:[function(e,t,n){"use strict";var o,r,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(o===setTimeout)return setTimeout(t,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:a}catch(e){o=a}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var c,l=[],f=!1,d=-1;function p(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&y())}function y(){if(!f){var e=s(p);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||f||s(y)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],14:[function(s,e,c){(function(e,t){"use strict";var o=s("process/browser.js").nextTick,n=Function.prototype.apply,r=Array.prototype.slice,i={},a=0;function u(e,t){this._id=e,this._clearFn=t}c.setTimeout=function(){return new u(n.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new u(n.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(e){e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},c.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},c._unrefActive=c.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},c.setImmediate="function"==typeof e?e:function(e){var t=a++,n=!(arguments.length<2)&&r.call(arguments,1);return i[t]=!0,o(function(){i[t]&&(n?e.apply(null,n):e.call(null),c.clearImmediate(t))}),t},c.clearImmediate="function"==typeof t?t:function(e){delete i[e]}}).call(this,s("timers").setImmediate,s("timers").clearImmediate)},{"process/browser.js":13,timers:14}]},{},[9]);