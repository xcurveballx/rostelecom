!function i(a,u,s){function c(e,t){if(!u[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var r=u[e]={exports:{}};a[e][0].call(r.exports,function(t){return c(a[e][1][t]||t)},r,r.exports,i,a,u,s)}return u[e].exports}for(var l="function"==typeof require&&require,t=0;t<s.length;t++)c(s[t]);return c}({1:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./Manager"))&&r.__esModule?r:{default:r};function a(t){return(a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=s(this,c(n).call(this,t))).settings.isBusy=!1,e.settings.imgLoadFunc="lazyLoad",e.settings.noImgClass="no-image",e.settings.delay=500,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(n,i.default),function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(n,[{key:"toggleBusy",value:function(){this.settings.isBusy=!this.settings.isBusy}},{key:"defer",value:function(t,e,n){var o=this;setTimeout(function(){t.classList.toggle(o.settings.loadingClass),o.notify(e,n),o.toggleBusy()},this.settings.delay)}},{key:"setObservers",value:function(t){t.forEach(function(n){n.notifies.forEach(function(e){e.observers.forEach(function(t){n.instance.addObserver(e.name,t.instance,t.callback)})})})}},{key:"setEventHandlers",value:function(o){var r=this;window[this.settings.imgLoadFunc]=function(t){return r.imgLoadHandler(t)},window.onerror=function(t){return r.notify("showError",new Error(t))},document.getElementById(this.settings.appId).addEventListener("click",function(t){var e=t||window.event,n=e.target||e.srcElement;if("button"!==n.tagName.toLowerCase()||1==n.disabled)return!1;n.hasAttribute("data-download")&&r.itemsDownloadHandler(n,o),n.hasAttribute("data-delete")&&r.itemDelHandler(n)})}},{key:"imgLoadHandler",value:function(t){var e=this,n=t.getAttribute("data-image"),o=new Image;o.onload=function(){t.src=n,t.onload=null,t.removeAttribute("onload"),t.classList.toggle(e.settings.noImgClass),t.removeAttribute("data-image")},o.src=n}},{key:"itemDelHandler",value:function(t){if(this.settings.isBusy)return!1;this.toggleBusy(),t.classList.toggle(this.settings.loadingClass);var e={id:t.getAttribute("data-delete"),elem:t};this.defer(t,"removeElem",e)}},{key:"itemsDownloadHandler",value:function(t,e){if(this.settings.isBusy)return!1;this.toggleBusy(),t.classList.toggle(this.settings.loadingClass);var n=[].slice.call(document.getElementById(this.settings.itemsId).children).length;i.default.total>n&&(n+this.settings.perRow>=i.default.total&&t.setAttribute("disabled","disabled"),this.defer(t,"showMore",e.restore()))}}]),n}();n.default=f},{"./Manager":4}],2:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./Manager"))&&r.__esModule?r:{default:r};function a(t){return(a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)})(t)}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=u(this,s(n).call(this,t))).settings.url="http://81.177.101.143:30080/test.json",e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(n,i.default),n}();n.default=l},{"./Manager":4}],3:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./LoadManager"))&&r.__esModule?r:{default:r},a=t("./config");function u(t){return(u="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=c(this,l(n).call(this,t))).settings.url="http://jsonplaceholder.typicode.com/photos",e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(n,i.default),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(n,[{key:"load",value:function(){var t=this;return new a.Promise(function(e,n){var o="jsonp_callback_"+Math.round(1e5*Math.random());window[o]=function(t){delete window[o],document.body.removeChild(r),e(t)};var r=document.createElement("script");r.src=t.settings.url+(~t.settings.url.indexOf("?")?"&":"?")+"callback="+o,document.body.appendChild(r),r.onerror=function(t){return n(t)}})}}]),n}();n.default=d},{"./LoadManager":2,"./config":10}],4:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./SubjectObserver"))&&r.__esModule?r:{default:r};function a(t){return(a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)})(t)}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=u(this,s(n).call(this,t))).settings={appId:"container",itemsId:"items",loadingClass:"loading",perRow:4},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(n,i.default),n}();(n.default=l).total=0},{"./SubjectObserver":7}],5:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.list={}}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(t,[{key:"add",value:function(t,e,n){Array.isArray(this.list[t])||(this.list[t]=[]),this.list[t].push({instance:e,callback:n})}}]),t}();n.default=r},{}],6:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./Manager"))&&r.__esModule?r:{default:r};function a(t){return(a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=t("@curveballerpacks/storage-manager"),d=function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=s(this,c(n).call(this,t))).shownIds=[],e.settings.storageName="rostelecom",e.settings.sortProp="id",e.storage=new f,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(n,i.default),function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(n,[{key:"removeItemId",value:function(t){~this.shownIds.indexOf(t.id)&&this.shownIds.splice(this.shownIds.indexOf(t.id),1)}},{key:"isEmpty",value:function(){return!this.storage.isAvailable()||!this.storage.restore(this.settings.storageName)}},{key:"save",value:function(t){if(!t)return!1;this.storage.save(this.settings.storageName,t)}},{key:"sort",value:function(t){var n=this;return t.slice(0).sort(function(t,e){return t[n.settings.sortProp]>e[n.settings.sortProp]?1:t[n.settings.sortProp]<e[n.settings.sortProp]?-1:0})}},{key:"paginate",value:function(t){var e=this,n=[],o=0;return t.every(function(t){return o!==e.settings.perRow&&e.shownIds.length!==i.default.total&&(~e.shownIds.indexOf(t.id)||(n.push(t),e.shownIds.push(t.id),o++),!0)}),n}},{key:"restore",value:function(){var t=this.storage.restore(this.settings.storageName);return i.default.total=t.length,this.paginate(this.sort(t))}}]),n}();n.default=d},{"./Manager":4,"@curveballerpacks/storage-manager":11}],7:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.observers=t}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"addObserver",value:function(t,e,n){this.observers.add(t,e,n)}},{key:"notify",value:function(t,e){this.observers.list[t].forEach(function(t){return t.instance.update(t.callback,e)})}},{key:"update",value:function(t,e){t.call(this,e)}}]),e}();n.default=r},{}],8:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./Manager"))&&r.__esModule?r:{default:r},a=t("./config");function u(t){return(u="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=c(this,l(n).call(this,t))).settings.loadMode="afterBegin",e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(n,i.default),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(n,[{key:"ready",value:function(){return new a.Promise(function(t,e){"interactive"!==document.readyState&&"complete"!==document.readyState||t(document.readyState),document.onreadystatechange=function(){~["interactive","complete"].indexOf(document.readyState)&&(t(document.readyState),document.onreadystatechange=null)}})}},{key:"renderView",value:function(t){var e=document.getElementById(this.settings.appId),n='<div id="'.concat(this.settings.itemsId,'">').concat(this.templateItems(t),'</div>\n                <button data-download><img src="spinner.gif">download</button>');e.innerHTML=n}},{key:"renderErrorView",value:function(t){var e=document.getElementById(this.settings.appId),n='<div class="error">Ups...something went wrong!\n                Try to visit this page later.<pre><code><strong>'.concat(t.name,"</strong>\n").concat(t.message,"\n").concat(t.stack,"</code></pre></div>");e.innerHTML=n}},{key:"renderItems",value:function(t){document.getElementById(this.settings.itemsId).insertAdjacentHTML(this.settings.loadMode,this.templateItems(t))}},{key:"deleteItem",value:function(t){var e=t.elem;e.classList.toggle(this.settings.loadingClass);var n=e.parentNode.parentNode.parentNode;n.parentNode.removeChild(n),document.getElementById(this.settings.appId).lastElementChild.removeAttribute("disabled")}},{key:"templateItems",value:function(t){var e=this,n="";return t.forEach(function(t){n+=e.templateItem(t)}),n}},{key:"templateItem",value:function(t){return'<div class="item">\n              <img data-image="'.concat(t.url,'" onload="lazyLoad(this)" src="spinner.gif" class="no-image"/>\n              <div class="flex">\n                <div class="content front"><span>').concat(t.title,'</span></div>\n                <div class="content back">\n                  <span>').concat(t.title.split(" ")[0],"</span>\n                  <span>").concat(t.title,'</span>\n                  <button data-delete="').concat(t.id,'"><img src="spinner.gif">delete</button>\n                </div>\n              </div>\n            </div>')}}]),n}();n.default=d},{"./Manager":4,"./config":10}],9:[function(t,e,n){"use strict";var o=t("./config");try{var r=o.storageManager.isEmpty()?o.loadManager.load():o.Promise.resolve(!1),i=o.viewManager.ready();o.Promise.all([r,i]).then(function(t){try{o.loadManager.notify("dataLoaded",t[0]),o.eventManager.setEventHandlers(o.storageManager),o.eventManager.notify("handlersReady",o.storageManager.restore())}catch(t){o.eventManager.notify("showError",t)}},function(t){o.eventManager.notify("showError",t)})}catch(t){o.eventManager.notify("showError",t)}},{"./config":10}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Promise=n.eventManager=n.storageManager=n.viewManager=n.loadManager=void 0;var o=s(t("./ObserverList")),r=s(t("./ViewManager")),i=s(t("./EventManager")),a=s(t("./LoadManagerJsonp")),u=s(t("./StorageManager"));function s(t){return t&&t.__esModule?t:{default:t}}var c=t("es6-promise-polyfill").Promise;n.Promise=c;var l=new a.default(new o.default);n.loadManager=l;var f=new r.default(new o.default);n.viewManager=f;var d=new u.default(new o.default);n.storageManager=d;var y=new i.default(new o.default);n.eventManager=y;var p=[{instance:l,notifies:[{name:"dataLoaded",observers:[{instance:d,callback:d.save}]}]},{instance:y,notifies:[{name:"handlersReady",observers:[{instance:f,callback:f.renderView}]},{name:"showMore",observers:[{instance:f,callback:f.renderItems}]},{name:"showError",observers:[{instance:f,callback:f.renderErrorView}]},{name:"removeElem",observers:[{instance:d,callback:d.removeItemId},{instance:f,callback:f.deleteItem}]}]}];y.setObservers(p)},{"./EventManager":1,"./LoadManagerJsonp":3,"./ObserverList":5,"./StorageManager":6,"./ViewManager":8,"es6-promise-polyfill":12}],11:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=function(){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e={type:"sessionStorage"};this.settings=Object.assign(e,t),this.dataObject={},this.storage=window[e.type]}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(n,[{key:"isAvailable",value:function(){try{var t="__storage_test__";return this.storage.setItem(t,t),this.storage.removeItem(t),!0}catch(t){return!1}}},{key:"save",value:function(e,t){var n=JSON.stringify(t);if(!this.isAvailable())return this.dataObject[e]=n,!1;try{return this.storage.setItem(e,n),e}catch(t){return this.dataObject[e]=n,!1}}},{key:"restore",value:function(t){var e=this.dataObject[t]?this.dataObject[t]:this.storage.getItem(t);return JSON.parse(e)}},{key:"remove",value:function(t){this.storage.removeItem(t)}},{key:"clear",value:function(){this.storage.clear()}}]),n}();e.exports=r},{}],12:[function(t,e,M){(function(t,j){"use strict";function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){var e,n=t.Promise,o=n&&"resolve"in n&&"reject"in n&&"all"in n&&"race"in n&&(new n(function(t){e=t}),"function"==typeof e);void 0!==M&&M?(M.Promise=o?n:S,M.Polyfill=S):"function"==typeof define&&define.amd?define(function(){return o?n:S}):o||(t.Promise=S);function r(){}var i="pending",a="sealed",u="fulfilled",s="rejected";function c(t){return"[object Array]"===Object.prototype.toString.call(t)}var l,f=void 0!==j?j:setTimeout,d=[];function y(){for(var t=0;t<d.length;t++)d[t][0](d[t][1]);l=!(d=[])}function p(t,e){d.push([t,e]),l||(l=!0,f(y,0))}function m(t){var e=t.owner,n=e.state_,o=e.data_,r=t[n],i=t.then;if("function"==typeof r){n=u;try{o=r(o)}catch(t){g(i,t)}}b(i,o)||(n===u&&h(i,o),n===s&&g(i,o))}function b(e,n){var o;try{if(e===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===E(n))){var t=n.then;if("function"==typeof t)return t.call(n,function(t){o||(o=!0,n!==t?h(e,t):v(e,t))},function(t){o||(o=!0,g(e,t))}),!0}}catch(t){return o||g(e,t),!0}return!1}function h(t,e){t!==e&&b(t,e)||v(t,e)}function v(t,e){t.state_===i&&(t.state_=a,t.data_=e,p(_,t))}function g(t,e){t.state_===i&&(t.state_=a,t.data_=e,p(O,t))}function w(t){var e=t.then_;t.then_=void 0;for(var n=0;n<e.length;n++)m(e[n])}function _(t){t.state_=u,w(t)}function O(t){t.state_=s,w(t)}function S(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof S==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function n(t){g(e,t)}try{t(function(t){h(e,t)},n)}catch(t){n(t)}}(t,this)}S.prototype={constructor:S,state_:i,then_:null,data_:void 0,then:function(t,e){var n={owner:this,then:new this.constructor(r),fulfilled:t,rejected:e};return this.state_===u||this.state_===s?p(m,n):this.then_.push(n),n.then},catch:function(t){return this.then(null,t)}},S.all=function(u){if(!c(u))throw new TypeError("You must pass an array to Promise.all().");return new this(function(n,t){var o=[],r=0;function e(e){return r++,function(t){o[e]=t,--r||n(o)}}for(var i,a=0;a<u.length;a++)(i=u[a])&&"function"==typeof i.then?i.then(e(a),t):o[a]=i;r||n(o)})},S.race=function(r){if(!c(r))throw new TypeError("You must pass an array to Promise.race().");return new this(function(t,e){for(var n,o=0;o<r.length;o++)(n=r[o])&&"function"==typeof n.then?n.then(t,e):t(n)})},S.resolve=function(e){return e&&"object"===E(e)&&e.constructor===this?e:new this(function(t){t(e)})},S.reject=function(n){return new this(function(t,e){e(n)})}}("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:void 0)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{timers:14}],13:[function(t,e,n){"use strict";var o,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(e){if(o===setTimeout)return setTimeout(e,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:a}catch(t){o=a}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var c,l=[],f=!1,d=-1;function y(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!f){var t=s(y);f=!0;for(var e=l.length;e;){for(c=l,l=[];++d<e;)c&&c[d].run();d=-1,e=l.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function b(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new m(t,e)),1!==l.length||f||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=b,i.addListener=b,i.once=b,i.off=b,i.removeListener=b,i.removeAllListeners=b,i.emit=b,i.prependListener=b,i.prependOnceListener=b,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],14:[function(s,t,c){(function(t,e){"use strict";var o=s("process/browser.js").nextTick,n=Function.prototype.apply,r=Array.prototype.slice,i={},a=0;function u(t,e){this._id=t,this._clearFn=e}c.setTimeout=function(){return new u(n.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new u(n.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(t){t.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},c.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},c._unrefActive=c.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},c.setImmediate="function"==typeof t?t:function(t){var e=a++,n=!(arguments.length<2)&&r.call(arguments,1);return i[e]=!0,o(function(){i[e]&&(n?t.apply(null,n):t.call(null),c.clearImmediate(e))}),e},c.clearImmediate="function"==typeof e?e:function(t){delete i[t]}}).call(this,s("timers").setImmediate,s("timers").clearImmediate)},{"process/browser.js":13,timers:14}]},{},[9]);